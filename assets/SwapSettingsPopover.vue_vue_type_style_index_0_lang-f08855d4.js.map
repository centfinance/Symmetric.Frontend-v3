{"version":3,"file":"SwapSettingsPopover.vue_vue_type_style_index_0_lang-f08855d4.js","sources":["../../src/components/popovers/SwapSettingsPopover.vue"],"sourcesContent":["<script lang=\"ts\">\nexport enum SwapSettingsContext {\n  swap,\n  invest,\n}\n</script>\n\n<script setup lang=\"ts\">\nimport AppSlippageForm from '@/components/forms/AppSlippageForm.vue';\nimport { useApp } from '@/composables/useApp';\nimport useEthereumTxType from '@/composables/useEthereumTxType';\nimport useFathom from '@/composables/useFathom';\nimport { ethereumTxTypeOptions } from '@/constants/options';\nimport { useUserSettings } from '@/providers/user-settings.provider';\nimport { isEIP1559SupportedNetwork } from '@/composables/useNetwork';\n\ntype Props = {\n  context: SwapSettingsContext;\n  isGassless?: boolean;\n};\n\nconst props = withDefaults(defineProps<Props>(), {\n  isGassless: false,\n});\n\n// DATA\nconst { context } = toRefs(props);\n\n// COMPOSABLES\nconst { transactionDeadline, setTransactionDeadline } = useApp();\n\nconst { trackGoal, Goals } = useFathom();\nconst { ethereumTxType, setEthereumTxType } = useEthereumTxType();\nconst { supportSignatures, setSupportSignatures } = useUserSettings();\n\n// METHODS\nfunction onActivatorClick(): void {\n  if (context.value === SwapSettingsContext.swap) {\n    trackGoal(Goals.ClickSwapSettings);\n  } else if (context.value === SwapSettingsContext.invest) {\n    trackGoal(Goals.ClickJoinPoolSettings);\n  }\n}\n</script>\n\n<template>\n  <BalPopover>\n    <template #activator>\n      <BalBtn\n        circle\n        color=\"white\"\n        size=\"sm\"\n        class=\"mb-2 text-secondary icon-spin-anim\"\n        @click=\"onActivatorClick\"\n      >\n        <BalIcon name=\"settings\" size=\"sm\" />\n      </BalBtn>\n    </template>\n\n    <div>\n      <div class=\"flex items-baseline\">\n        <span class=\"mb-2 font-medium\" v-text=\"$t('slippageTolerance')\" />\n        <BalTooltip>\n          <template #activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"-mb-px ml-1 text-gray-400\" />\n          </template>\n          <div v-html=\"$t('marketConditionsWarning')\" />\n        </BalTooltip>\n      </div>\n      <AppSlippageForm class=\"mt-1\" />\n    </div>\n    <div v-if=\"isEIP1559SupportedNetwork\" class=\"mt-6\">\n      <div class=\"flex items-baseline\">\n        <span class=\"mb-2 font-medium\" v-text=\"$t('transactionType')\" />\n        <BalTooltip>\n          <template #activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"-mb-px ml-1 text-gray-400\" />\n          </template>\n          <div v-text=\"$t('ethereumTxTypeTooltip')\" />\n        </BalTooltip>\n      </div>\n      <div class=\"flex mt-1\">\n        <BalBtnGroup\n          v-model=\"ethereumTxType\"\n          :options=\"ethereumTxTypeOptions\"\n          @update:model-value=\"setEthereumTxType\"\n        />\n      </div>\n    </div>\n    <div class=\"mt-6\">\n      <div class=\"flex items-baseline\">\n        <span class=\"mb-2 font-medium\" v-text=\"$t('useSignatures')\" />\n        <BalTooltip>\n          <template #activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"-mb-px ml-1 text-gray-400\" />\n          </template>\n          <div v-text=\"$t('useSignaturesTooltip')\" />\n        </BalTooltip>\n      </div>\n      <BalToggle\n        v-model=\"supportSignatures\"\n        name=\"supportSignatures\"\n        @toggle=\"setSupportSignatures\"\n      />\n    </div>\n    <div v-if=\"isGassless && context === SwapSettingsContext.swap\" class=\"mt-6\">\n      <div class=\"flex items-baseline\">\n        <span class=\"mb-2 font-medium\" v-text=\"$t('transactionDeadline')\" />\n        <BalTooltip>\n          <template #activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"-mb-px ml-1 text-gray-400\" />\n          </template>\n          <div v-html=\"$t('transactionDeadlineTooltip')\" />\n        </BalTooltip>\n      </div>\n      <div class=\"flex mt-1\">\n        <div\n          class=\"flex items-center px-1 rounded-lg border dark:border-gray-700 shadow-inner\"\n        >\n          <input\n            v-model=\"transactionDeadline\"\n            class=\"w-8 text-right bg-transparent\"\n            placeholder=\"20\"\n            type=\"number\"\n            step=\"1\"\n            min=\"0\"\n            @update:modelValue=\"setTransactionDeadline\"\n          />\n        </div>\n        <div class=\"px-2\">minutes</div>\n      </div>\n    </div>\n  </BalPopover>\n</template>\n\n\n<style>\n.swap-settings-option:hover {\n  @apply text-blue-500 border-blue-500;\n}\n\n.swap-settings-option.active {\n  @apply text-blue-500 border-blue-500;\n}\n</style>\n"],"names":["SwapSettingsContext","SwapSettingsContext2","context","toRefs","props","transactionDeadline","setTransactionDeadline","useApp","trackGoal","Goals","useFathom","ethereumTxType","setEthereumTxType","useEthereumTxType","supportSignatures","setSupportSignatures","useUserSettings","onActivatorClick"],"mappings":"0iCACO,IAAAA,IAAAC,IACLA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,OAAA,CAAA,EAAA,SAFUA,IAAAD,IAAA,CAAA,CAAA,sHAyBZ,CAAA,QAAAE,CAAA,EAAAC,EAAAC,CAAA,EAGA,CAAA,oBAAAC,EAAA,uBAAAC,CAAA,EAAAC,EAAA,EAEA,CAAA,UAAAC,EAAA,MAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,eAAAC,EAAA,kBAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,kBAAAC,EAAA,qBAAAC,CAAA,EAAAC,EAAA,EAGA,SAAAC,GAAA,CACEf,EAAA,QAAA,EACEM,EAAAC,EAAA,iBAAA,EAAiCP,EAAA,QAAA,GAEjCM,EAAAC,EAAA,qBAAA,CACF"}