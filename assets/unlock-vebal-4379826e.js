import{B as C,_ as A}from"./BalAsset-fcab7531.js";import{C as F}from"./Col3Layout-f6c1dd97.js";import{u as V}from"./usePoolQuery-7e1952e9.js";import{u as N}from"./useVeBalLockInfoQuery-e92ea085.js";import{aS as S,aU as g,aq as w,aw as Q,bn as j,av as x}from"./BalBtn-cca6788c.js";import{u as U,i as W}from"./useVeBAL-5fa15e49.js";import{_ as q}from"./MyVeBAL.vue_vue_type_script_setup_true_lang-44832444.js";import{Z as $,Q as E}from"./connector-16147cef.js";import{_ as R}from"./UnlockPreviewModal.vue_vue_type_script_setup_true_lang-d5b06c48.js";import{d as L,b as a,p as B,q as o,v as s,j as T,z as c,r as z,u as r,l as d,c as n,A as D,i as M,T as Z,F as G}from"./runtime-core.esm-bundler-558f8953.js";import"./useDarkMode-6a81be08.js";import"./browser-6c45db04.js";import"./_commonjsHelpers-87174ba5.js";import"./Avatar.vue_vue_type_script_setup_true_lang-5ab9890e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./api-e32fdf3d.js";import"./usePoolHelpers-eb955974.js";import"./pools-18fd7fb0.js";import"./subgraph-fallback.service-7e7c32be.js";import"./balancer-sdk-d0995fe4.js";import"./index-155f0d25.js";import"./index-18b6daea.js";import"./StablePhantomPool-f25cd4a4.js";import"./balancer-api.service-037872f8.js";import"./metamask.connector-0225016b.js";import"./constants-5d025550.js";import"./BalCircle-324fa9cd.js";import"./BalLink-65772d8f.js";import"./BalActionSteps.vue_vue_type_script_setup_true_lang-f37eca6e.js";import"./BalStack.vue_vue_type_script_lang-342e535e.js";import"./BalTooltip.vue_vue_type_style_index_0_lang-8bf6235c.js";import"./wallet-logos-346092ca.js";import"./BalAlert-fdfde589.js";import"./anime.es-de4e5aa0.js";import"./useTransactions-114fc9d7.js";import"./index-fe1d1633.js";import"./events-5f626723.js";import"./readable-browser-a0df197a.js";import"./immutable-2b056f5a.js";import"./index-1de0572e.js";const O={class:"mb-6"},H={class:"pb-4"},J={class:"p-3 dark:bg-gray-800 rounded-lg border dark:border-gray-800"},K={class:"flex items-center"},X={class:"w-full"},Y={class:"flex justify-between"},oo={class:"flex justify-between text-gray-500"},eo=L({__name:"LockedAmount",props:{lockablePool:{},lockablePoolTokenInfo:{},totalLpTokens:{},fiatTotalLpTokens:{}},setup(v){const{fNum:t}=S();return(l,f)=>{const k=C;return a(),B("div",O,[o("div",H,s(l.$t("unlockVeBAL.unlockForm.lockedAmount.title")),1),o("div",J,[o("div",K,[T(k,{address:l.lockablePool.address,class:"mr-2",size:36},null,8,["address"]),o("div",X,[o("div",Y,[o("div",null,s(l.lockablePoolTokenInfo.symbol),1),o("div",null,s(c(t)(l.totalLpTokens,c(g).token)),1)]),o("div",oo,[o("div",null,s(l.lockablePoolTokenInfo.name),1),o("div",null,s(c(t)(l.fiatTotalLpTokens,c(g).fiat)),1)])])])])])}}}),lo={class:"w-full"},ao={class:"text-xs leading-none text-secondary"},to={class:"flex justify-between items-center"},so={class:"mt-6"},no=L({__name:"VeBalUnlockForm",props:{lockablePool:{},lockablePoolTokenInfo:{},veBalLockInfo:{}},setup(v){const t=v,l=z(!1),{isWalletReady:f,startConnectWithInjectedProvider:k,isMismatchedNetwork:_}=w(),u=r(()=>{var e;return(e=t.veBalLockInfo)!=null&&e.isExpired?t.veBalLockInfo.lockedAmount:"0"}),b=r(()=>$(t.lockablePool.totalLiquidity).div(t.lockablePool.totalShares).times(u.value).toString()),m=r(()=>_.value?!0:$(u.value).isZero());return(e,i)=>{const p=Q,P=j;return a(),B(G,null,[T(P,{shadow:"xl",exposeOverflow:"",noBorder:""},{header:d(()=>[o("div",lo,[o("div",ao,s(c(E).network.chainName),1),o("div",to,[o("h4",null,s(e.$t("unlockVeBAL.unlockForm.title")),1)])])]),default:d(()=>[T(eo,{lockablePool:e.lockablePool,lockablePoolTokenInfo:e.lockablePoolTokenInfo,totalLpTokens:u.value,fiatTotalLpTokens:b.value},null,8,["lockablePool","lockablePoolTokenInfo","totalLpTokens","fiatTotalLpTokens"]),o("div",so,[c(f)?(a(),n(p,{key:1,color:"gradient",block:"",disabled:m.value,onClick:i[0]||(i[0]=h=>l.value=!0)},{default:d(()=>[D(s(e.$t("preview")),1)]),_:1},8,["disabled"])):(a(),n(p,{key:0,label:e.$t("connectWallet"),color:"gradient",block:"",onClick:c(k)},null,8,["label","onClick"]))])]),_:1}),(a(),n(Z,{to:"#modal"},[l.value?(a(),n(R,{key:0,lockablePool:e.lockablePool,lockablePoolTokenInfo:e.lockablePoolTokenInfo,veBalLockInfo:e.veBalLockInfo,totalLpTokens:u.value,fiatTotalLpTokens:b.value,onClose:i[1]||(i[1]=h=>l.value=!1)},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo","totalLpTokens","fiatTotalLpTokens"])):M("",!0)]))],64)}}}),io=L({__name:"UnlockForm",setup(v){const{getToken:t}=x(),{isWalletReady:l}=w(),{lockablePoolId:f}=U(),k=V(f.value),_=N(),u=r(()=>k.isLoading.value),b=r(()=>_.isLoading.value),m=r(()=>k.data.value),e=r(()=>m.value!=null?t(m.value.address):null),i=r(()=>_.data.value),p=r(()=>l.value?u.value||b.value:u.value);return(P,h)=>{const y=A;return a(),n(F,{offsetGutters:""},{gutterRight:d(()=>[p.value?(a(),n(y,{key:0,class:"h-64"})):(a(),n(q,{key:1,veBalLockInfo:i.value},null,8,["veBalLockInfo"]))]),default:d(()=>{var I;return[p.value||!i.value||!m.value||!e.value?(a(),n(y,{key:0,class:"h-96"})):(a(),n(no,{key:(I=i.value)!=null&&I.hasExistingLock?"veBalUnlockForm-hasLock":"veBalUnlockForm-noLock",lockablePool:m.value,lockablePoolTokenInfo:e.value,veBalLockInfo:i.value},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo"]))]}),_:1})}}}),ro={key:1,class:"text-center"},co={class:"text-lg font-semibold"},Ko=L({__name:"unlock-vebal",setup(v){return(t,l)=>c(W)?(a(),n(io,{key:0})):(a(),B("div",ro,[o("div",co,s(t.$t("veBAL.notSupported.title")),1),o("div",null,s(t.$t("veBAL.notSupported.description")),1)]))}});export{Ko as default};
//# sourceMappingURL=unlock-vebal-4379826e.js.map
