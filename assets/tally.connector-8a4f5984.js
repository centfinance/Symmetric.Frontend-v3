var r=Object.defineProperty;var s=(o,t,e)=>t in o?r(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(s(o,typeof t!="symbol"?t+"":t,e),e);import{ai as l,aj as d}from"./connector-16147cef.js";import"./runtime-core.esm-bundler-558f8953.js";import"./_commonjsHelpers-87174ba5.js";class f extends l{constructor(){super(...arguments);i(this,"id",d.InjectedTally)}async connect(){const e=window.ethereum||window.web3&&window.web3.currentProvider;if(e){this.provider=e,this.active.value=!0;let a=null,c=null;try{e.request&&(a=await e.request({method:"eth_requestAccounts"}),c=await e.request({method:"eth_chainId"}))}catch(n){n.code===4001?console.log("Please connect to MetaMask."):console.error(n)}if(!a){const n=await e.enable();a=(n==null?void 0:n.result)||n}a&&c&&(this.handleChainChanged(c),this.handleAccountsChanged(a))}else console.error("Tried to connect to MetaMask but it was not detected. Please install MetaMask.");return{provider:e,account:this.account,chainId:this.chainId}}}export{f as TallyConnector};
//# sourceMappingURL=tally.connector-8a4f5984.js.map
