import{ao as F,bn as N}from"./BalBtn-cca6788c.js";import{d as O,r as t,o as j,n as k,C as B,b as s,p as i,j as b,l as z,F as K,k as q,h as C,x as y,q as A,v as I,z as v,i as w}from"./runtime-core.esm-bundler-558f8953.js";const L=["onClick"],M=["onClick"],W=O({__name:"BalAccordion",props:{sections:{},dependencies:{},showSectionBorder:{type:Boolean,default:!0},reCalcKey:{default:0},isOpenedByDefault:{type:Boolean,default:!1}},setup(S){const c=S,n=t(""),d=t(),_=t(),h=t(),p=t(),g=t([]),E=t(0),l=t(!1),H=t(),D=t(0),m=t(0);async function f(e,r=!0){const o=c.sections.find(a=>a.id===e);if(o!=null&&o.isDisabled)return;n.value===e&&r?(n.value="",l.value=!1):(n.value=e,l.value=!0),await k(),d.value&&_.value&&(H.value=d.value.clientHeight,l.value=!1),l.value=!0}j(async()=>{var e,r,o,u;l.value=!0,E.value=((e=h.value)==null?void 0:e.offsetHeight)||0,D.value=((r=p.value)==null?void 0:r.offsetHeight)||0,m.value=((o=h.value)==null?void 0:o.offsetHeight)||0;for(const a of c.sections)n.value=a.id,await k(),m.value=m.value+(((u=d.value)==null?void 0:u.offsetHeight)||0);n.value="",l.value=!1});function $(e){var r;e&&((r=g.value)!=null&&r.includes(e)||g.value.push(e))}return B(()=>c.dependencies,()=>{f(n.value,!1)}),B(()=>c.reCalcKey,e=>{e&&n.value&&f(n.value,!1)}),(e,r)=>{const o=F,u=N;return s(),i("div",{ref_key:"wrapperElement",ref:h},[b(u,{hFull:"",noPad:"",shadow:"none",class:"overflow-visible rounded-xl"},{default:z(()=>[(s(!0),i(K,null,q(e.sections,(a,x)=>(s(),i("div",{key:a.id,ref_for:!0,ref:$,class:"flex flex-col"},[a.handle?(s(),i("div",{key:0,ref_for:!0,ref_key:"handleBarElement",ref:p,onClick:V=>f(a.id)},[C(e.$slots,a.handle)],8,L)):(s(),i("button",{key:1,ref_for:!0,ref_key:"handleBarElement",ref:p,class:y(["transition-all w-full flex justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",{"border-b dark:border-gray-900":x!==e.sections.length-1}]),onClick:V=>f(a.id)},[A("h6",null,I(a.title),1),b(o,{class:y(["text-blue-400",[v(n)===a.id?"-rotate-180":"rotate-0","transform transition-all"]]),name:"chevron-down"},null,8,["class"])],10,M)),v(n)===a.id||e.isOpenedByDefault?(s(),i("div",{key:2,ref_for:!0,ref_key:"accordionHeightSetterElement",ref:_,class:"relative"},[v(l)||e.isOpenedByDefault?(s(),i("div",{key:0,ref_for:!0,ref_key:"activeSectionElement",ref:d,class:y({"border-b dark:border-gray-900 active-section rounded-b":v(l)&&e.showSectionBorder})},[C(e.$slots,a.id)],2)):w("",!0)],512)):w("",!0)]))),128))]),_:3})],512)}}});export{W as _};
//# sourceMappingURL=BalAccordion.vue_vue_type_script_setup_true_lang-a2418c88.js.map
