{"version":3,"file":"UserInvestedInAffectedPoolAlert.vue_vue_type_script_setup_true_lang-6482f209.js","sources":["../../src/components/heros/AppHero.vue","../../src/components/tables/PoolsTable/PoolsTableActionsCell.vue","../../src/assets/images/icons/pool-actions/add.svg?url","../../src/assets/images/icons/pool-actions/migrateGauge.svg?url","../../src/assets/images/icons/pool-actions/poke.svg?url","../../src/assets/images/icons/pool-actions/remove.svg?url","../../src/assets/images/icons/pool-actions/stake.svg?url","../../src/assets/images/icons/pool-actions/unstake.svg?url","../../src/assets/images/icons/pool-actions/vote.svg?url","../../src/components/contextual/pages/pools/types.ts","../../src/components/tables/PoolsTable/PoolsTableActionSelector.vue","../../src/components/tables/PoolsTable/PoolsTable.vue","../../src/pages/recovery-exit/UserInvestedInAffectedPoolAlert.vue"],"sourcesContent":["<template>\n  <div class=\"app-hero\">\n    <div class=\"mx-auto w-full max-w-lg\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<style>\n.app-hero {\n  @apply bg-cover bg-center flex items-center justify-center text-center px-4;\n\n  transition: all 0.3s ease-in-out;\n  background-image: url('/images/backgrounds/bg-header.svg');\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed, toRef } from 'vue';\n\nimport { isVeBalPool, usePoolHelpers } from '@/composables/usePoolHelpers';\nimport useNetwork from '@/composables/useNetwork';\nimport { POOLS } from '@/constants/pools';\nimport { Pool } from '@/services/pool/types';\n\n/**\n * TYPES\n */\ntype Props = {\n  pool: Pool;\n  poolsType?: 'unstaked' | 'staked';\n};\n\n/**\n * PROPS & EMITS\n */\nconst props = withDefaults(defineProps<Props>(), {\n  poolsType: 'unstaked',\n});\n\nconst emit = defineEmits<{\n  (e: 'click:stake', value: Pool): void;\n  (e: 'click:unstake', value: Pool): void;\n  (e: 'click:migrate', value: Pool): void;\n}>();\n/**\n * COMPOSABLES\n */\nconst { isMigratablePool } = usePoolHelpers(toRef(props, 'pool'));\nconst { networkSlug } = useNetwork();\n\n/** COMPUTED */\nconst stakablePoolIds = computed((): string[] =>\n  POOLS.Stakable.VotingGaugePools.concat(POOLS.Stakable.AllowList)\n);\nconst showVeBalLock = computed(() => isVeBalPool(props.pool.id));\n</script>\n\n<template>\n  <div class=\"flex justify-center py-4 px-2\">\n    <BalBtn\n      v-if=\"isMigratablePool(pool)\"\n      color=\"gradient\"\n      size=\"sm\"\n      @click.prevent.stop=\"emit('click:migrate', pool)\"\n    >\n      {{ $t('migrate') }}\n    </BalBtn>\n    <BalBtn\n      v-else-if=\"poolsType === 'unstaked' && stakablePoolIds.includes(pool.id)\"\n      color=\"gradient\"\n      size=\"sm\"\n      :disabled=\"isMigratablePool(pool)\"\n      @click.prevent.stop=\"emit('click:stake', pool)\"\n    >\n      {{ $t('stake') }}\n    </BalBtn>\n    <BalBtn\n      v-else-if=\"poolsType === 'staked'\"\n      class=\"dark:text-gray-300 dark:border-gray-300\"\n      outline\n      size=\"sm\"\n      @click.prevent.stop=\"emit('click:unstake', pool)\"\n    >\n      {{ $t('unstake') }}\n    </BalBtn>\n    <BalBtn\n      v-else-if=\"showVeBalLock\"\n      tag=\"router-link\"\n      :to=\"{\n        name: 'get-vebal',\n        query: {\n          networkSlug,\n          returnRoute: $route.name,\n          returnParams: JSON.stringify({\n            networkSlug,\n          }),\n        },\n      }\"\n      color=\"gradient-pink-yellow\"\n      size=\"sm\"\n    >\n      {{ $t('transactionAction.createLock') }}\n    </BalBtn>\n    <div v-else>-</div>\n  </div>\n</template>\n","export default \"__VITE_ASSET__543aced3__\"","export default \"__VITE_ASSET__2326af4d__\"","export default \"__VITE_ASSET__53b23abc__\"","export default \"__VITE_ASSET__190a4b19__\"","export default \"__VITE_ASSET__30428cce__\"","export default \"__VITE_ASSET__ab5c9ba9__\"","export default \"__VITE_ASSET__2c10ef7b__\"","export type UserGaugeShare = {\n  id: string;\n  gauge: {\n    poolId: string;\n    id?: string;\n  };\n  balance: string;\n};\n\nexport type LiquidityGauge = {\n  id?: string;\n  poolId: string;\n  shares: {\n    balance: string;\n  }[];\n};\n\nexport type UserGaugeSharesResponse = {\n  gaugeShares: UserGaugeShare[];\n  liquidityGauges: LiquidityGauge[];\n};\n\nexport type PoolStakingDataResponse = {\n  liquidityGauge: LiquidityGauge;\n};\n\nexport enum PoolAction {\n  Add = 'add',\n  Remove = 'remove',\n  Stake = 'stake',\n  Unstake = 'unstake',\n  Vote = 'vote',\n  MigrateGauge = 'migrateGauge',\n  Poke = 'poke',\n}\n","<script setup lang=\"ts\">\nimport { Pool } from '@/services/pool/types';\nimport { onClickOutside } from '@vueuse/core';\nimport { PoolAction } from '@/components/contextual/pages/pools/types';\nimport {\n  deprecatedDetails,\n  isJoinsDisabled,\n} from '@/composables/usePoolHelpers';\nimport { PoolWarning } from '@/types/pools';\nimport { usePoolWarning } from '@/composables/usePoolWarning';\nimport { useDisabledJoinPool } from '@/composables/useDisabledJoinPool';\nimport { POOLS } from '@/constants/pools';\nimport { isVeBalSupported } from '@/composables/useVeBAL';\n\ntype Props = {\n  pool: Pool;\n  defaultPoolActions: PoolAction[];\n  showPokeAction?: boolean;\n  showMigrateGaugeAction?: boolean;\n};\n\nconst props = withDefaults(defineProps<Props>(), {\n  showPokeAction: false,\n  showMigrateGaugeAction: false,\n});\ndefineEmits<{\n  (e: 'click:add', value: Pool): void;\n  (e: 'click:remove', value: Pool): void;\n  (e: 'click:unstake', value: Pool): void;\n  (e: 'click:vote', value: Pool): void;\n  (e: 'click:poke', value: Pool): void;\n  (e: 'click:migrateGauge', value: Pool): void;\n}>();\n\nconst { isAffectedBy } = usePoolWarning(computed(() => props.pool.id));\nconst { shouldDisableJoins } = useDisabledJoinPool(props.pool);\n\nconst isSelectorOpened = ref(false);\n\nfunction handleClickOutside() {\n  isSelectorOpened.value = false;\n}\nfunction getActionIcon(action: string) {\n  return new URL(\n    `/src/assets/images/icons/pool-actions/${action}.svg`,\n    import.meta.url\n  ).href;\n}\n\nfunction isActionDisabled(action: PoolAction) {\n  const isDeprecated =\n    Boolean(deprecatedDetails(props.pool.id)) ||\n    isAffectedBy(PoolWarning.PoolProtocolFeeVulnWarning) ||\n    isJoinsDisabled(props.pool.id) ||\n    shouldDisableJoins.value ||\n    POOLS.BrandedRedirect?.[props.pool.poolType];\n\n  const actionsToDisable = [\n    PoolAction.Add,\n    PoolAction.Stake,\n    PoolAction.MigrateGauge,\n  ];\n  return (\n    (isDeprecated && actionsToDisable.includes(action)) ||\n    (action == 'stake' && !isVeBalSupported.value)\n  );\n}\n\nconst menuItems = computed(() => {\n  const items = [...props.defaultPoolActions];\n  if (props.showMigrateGaugeAction) {\n    items.unshift(PoolAction.MigrateGauge);\n  } else if (props.showPokeAction) {\n    items.unshift(PoolAction.Poke);\n  }\n\n  return items;\n});\n\nconst showActionCall = computed(() => {\n  return menuItems.value.some(\n    action => action === 'migrateGauge' || action === 'poke'\n  );\n});\n\nconst clickOutsideTarget = ref(null);\n\nonClickOutside(clickOutsideTarget, handleClickOutside);\n</script>\n\n<template>\n  <div\n    v-if=\"menuItems\"\n    ref=\"clickOutsideTarget\"\n    class=\"flex relative justify-end py-4 pr-8\"\n  >\n    <div\n      class=\"flex relative justify-center items-center w-7 h-7 text-blue-600 hover:bg-blue-50 rounded-md border-2 border-blue-600 transition-all duration-200 text-[8px]\"\n      @click.stop=\"isSelectorOpened = !isSelectorOpened\"\n    >\n      <div\n        v-if=\"showActionCall\"\n        class=\"absolute w-3 h-3 bg-red-500 rounded-full border-2 border-white right-[-4px] top-[-4px]\"\n      />\n      &bull;&bull;&bull;\n    </div>\n    <ul\n      v-if=\"isSelectorOpened\"\n      class=\"absolute z-10 bg-white dark:bg-gray-700 rounded border border-gray-200 shadow right-[60px] top-[50px] radius-md\"\n    >\n      <template v-for=\"action in menuItems\" :key=\"action\">\n        <li\n          v-if=\"!isActionDisabled(action)\"\n          class=\"flex items-center py-3 pr-10 pl-3 font-medium text-left dark:hover:text-gray-600 whitespace-pre hover:bg-gray-100 first:rounded-t cursor-pointer radius-md\"\n          :class=\"{\n            'bg-red-50 hover:bg-red-100 dark:bg-red-300 border-b border-gray-200':\n              action === PoolAction.Poke || action === PoolAction.MigrateGauge,\n          }\"\n          @click.stop=\"$emit(`click:${action}`, pool)\"\n        >\n          <img\n            :src=\"getActionIcon(action)\"\n            alt=\"\"\n            class=\"p-0.5 rounded-full w-[20px]\"\n          />\n          <div class=\"pr-5 pl-2\">{{ $t(`poolActions.${action}`) }}</div>\n        </li>\n      </template>\n    </ul>\n  </div>\n</template>\n\n","<script setup lang=\"ts\">\nimport { format } from 'date-fns';\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\n\nimport { ColumnDefinition } from '@/components/_global/BalTable/types';\n\nimport { PRETTY_DATE_FORMAT } from '@/components/forms/lock_actions/constants';\n\nimport APRTooltip from '@/components/tooltips/APRTooltip/APRTooltip.vue';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport useDarkMode from '@/composables/useDarkMode';\nimport useFathom from '@/composables/useFathom';\nimport useNumbers from '@/composables/useNumbers';\nimport useNetwork from '@/composables/useNetwork';\nimport {\n  absMaxApr,\n  fiatValueOf,\n  isMigratablePool,\n  isStableLike,\n  orderedPoolTokens,\n  orderedTokenAddresses,\n  totalAprLabel,\n  isLBP,\n  shouldHideAprs,\n} from '@/composables/usePoolHelpers';\nimport { bnum } from '@/lib/utils';\nimport { Pool } from '@/services/pool/types';\nimport { APR_THRESHOLD, VOLUME_THRESHOLD } from '@/constants/pools';\nimport { configService } from '@/services/config/config.service';\n\nimport PoolsTableActionsCell from './PoolsTableActionsCell.vue';\nimport TokenPills from './TokenPills/TokenPills.vue';\nimport TokensWhite from '@/assets/images/icons/tokens_white.svg';\nimport TokensBlack from '@/assets/images/icons/tokens_black.svg';\nimport { poolMetadata } from '@/lib/config/metadata';\nimport PoolsTableExtraInfo from './PoolsTableExtraInfo.vue';\nimport PoolsTableActionSelector from './PoolsTableActionSelector.vue';\nimport { PoolAction } from '@/components/contextual/pages/pools/types';\n\n/**\n * TYPES\n */\ntype Props = {\n  data?: Pool[];\n  poolsType?: 'unstaked' | 'staked';\n  isLoading?: boolean;\n  isLoadingMore?: boolean;\n  showPoolShares?: boolean;\n  noPoolsLabel?: string;\n  isPaginated?: boolean;\n  sortColumn?: string;\n  selectedTokens?: string[];\n  hiddenColumns?: string[];\n  showBoost?: boolean;\n  showActions?: boolean;\n  columnStates?: Record<string, string>;\n  skeletonClass?: string;\n  shares?: Record<string, string>;\n  boosts?: Record<string, string>;\n  defaultPoolActions?: PoolAction[];\n  shouldPokePoolsMap?: Record<string, string>;\n  hasNonPrefGaugesPoolsAddresses?: string[];\n};\n\n/**\n * PROPS & EMITS\n */\n\nconst props = withDefaults(defineProps<Props>(), {\n  poolsType: 'unstaked',\n  isLoadingMore: false,\n  showPoolShares: false,\n  noPoolsLabel: 'No pools',\n  isPaginated: false,\n  sortColumn: 'totalLiquidity',\n  hiddenColumns: () => [],\n  showBoost: false,\n  showActions: false,\n  columnStates: () => ({}),\n  data: () => [],\n  selectedTokens: () => [],\n  skeletonClass: 'h-64',\n});\n\nconst emit = defineEmits<{\n  (e: 'loadMore'): void;\n  (e: 'triggerVote'): void;\n  (e: 'triggerStake', value: Pool): void;\n  (e: 'triggerUnstake', value: Pool): void;\n  (e: 'triggerCheckpoint', value: Pool): void;\n  (e: 'onColumnSort', value: string): void;\n}>();\n/**\n * COMPOSABLES\n */\nconst { fNum } = useNumbers();\nconst router = useRouter();\nconst { t } = useI18n();\nconst { trackGoal, Goals } = useFathom();\nconst { darkMode } = useDarkMode();\nconst { upToLargeBreakpoint, upToSmallBreakpoint } = useBreakpoints();\nconst { networkSlug } = useNetwork();\n\nconst wideCompositionWidth = computed(() => {\n  if (upToSmallBreakpoint.value) return 250;\n  return 350;\n});\n\n/**\n * DATA\n */\nconst columns = computed<ColumnDefinition<Pool>[]>(() => [\n  {\n    name: 'Icons',\n    id: 'icons',\n    accessor: 'uri',\n    Header: 'iconColumnHeader',\n    Cell: 'iconColumnCell',\n    width: 125,\n    noGrow: true,\n  },\n  {\n    name: t('composition'),\n    id: 'poolName',\n    accessor: 'id',\n    Cell: 'poolNameCell',\n    width: props.hiddenColumns.length >= 2 ? wideCompositionWidth.value : 350,\n  },\n  {\n    name: t('myBoost'),\n    accessor: pool => `${bnum(boostFor(pool)).toFixed(3)}x`,\n    align: 'right',\n    id: 'myBoost',\n    hidden: !props.showBoost,\n    sortKey: pool => Number(boostFor(pool)),\n    width: 150,\n    cellClassName: 'font-numeric',\n  },\n  {\n    name: t('myBalance'),\n    accessor: pool =>\n      fNum(balanceValue(pool), {\n        style: 'currency',\n        maximumFractionDigits: 0,\n        fixedFormat: true,\n      }),\n    align: 'right',\n    id: 'myBalance',\n    hidden: !props.showPoolShares,\n    sortKey: pool => Number(balanceValue(pool)),\n    width: 160,\n    cellClassName: 'font-numeric',\n  },\n  {\n    name: t('poolValue'),\n    accessor: pool =>\n      fNum(pool.totalLiquidity || 0, {\n        style: 'currency',\n        maximumFractionDigits: 0,\n      }),\n    align: 'right',\n    id: 'totalLiquidity',\n    sortKey: pool => {\n      const apr = Number(pool.totalLiquidity);\n      if (apr === Infinity || isNaN(apr)) return 0;\n      return apr;\n    },\n    width: 150,\n    cellClassName: 'font-numeric',\n  },\n  {\n    name: t('volume24h', [t('hourAbbrev')]),\n    accessor: pool => pool?.volumeSnapshot || '0',\n    align: 'right',\n    id: 'volume',\n    Cell: 'volumeCell',\n    sortKey: pool => {\n      const volume = Number(pool?.volumeSnapshot);\n      if (volume === Infinity || isNaN(volume) || volume > VOLUME_THRESHOLD)\n        return 0;\n      return volume;\n    },\n    width: 175,\n    cellClassName: 'font-numeric',\n  },\n  {\n    name: props.showPoolShares ? t('myApr') : t('apr'),\n    Cell: 'aprCell',\n    accessor: pool => pool?.apr?.min.toString() || '0',\n    align: 'right',\n    id: 'apr',\n    sortKey: pool => {\n      let apr = 0;\n\n      if (pool?.apr) {\n        apr = Number(absMaxApr(pool.apr, pool.boost));\n      }\n\n      return isFinite(apr) && (pool.apr?.swapFees || 0) < APR_THRESHOLD\n        ? apr\n        : 0;\n    },\n    width: 150,\n  },\n  {\n    name: t('expiryDate'),\n    Cell: 'lockEndDateCell',\n    accessor: 'lockedEndDate',\n    align: 'right',\n    id: 'lockEndDate',\n    width: 150,\n  },\n  {\n    name: t('migrate'),\n    Cell: 'migrateCell',\n    accessor: 'migrate',\n    align: 'center',\n    id: 'migrate',\n    width: 150,\n  },\n  {\n    name: t('actions'),\n    Cell: 'actionsCell',\n    accessor: 'actions',\n    align: 'right',\n    id: 'actions',\n    hidden: !props.showActions,\n    width: 150,\n  },\n]);\n\nconst visibleColumns = computed(() =>\n  columns.value.filter(column => !props.hiddenColumns.includes(column.id))\n);\n\n/**\n * METHODS\n */\nfunction handleRowClick(pool: Pool, inNewTab?: boolean) {\n  trackGoal(Goals.ClickPoolsTableRow);\n  const route = router.resolve({\n    name: 'pool',\n    params: { id: pool.id, networkSlug },\n  });\n  inNewTab ? window.open(route.href) : router.push(route);\n}\n\nfunction navigateToPoolMigration(pool: Pool) {\n  router.push({\n    name: 'migrate-pool',\n    params: {\n      from: pool.id,\n      to: configService.network.pools.Migrations?.[pool.id].toPoolId,\n    },\n    query: { returnRoute: 'home' },\n  });\n}\n\nfunction balanceValue(pool: Pool): string {\n  const bpt = props?.shares?.[pool.id] || '0';\n  return fiatValueOf(pool, bpt);\n}\n\nfunction boostFor(pool: Pool): string {\n  return pool.boost || props?.boosts?.[pool.id] || '1';\n}\n\nfunction aprLabelFor(pool: Pool): string {\n  const poolAPRs = pool?.apr;\n  if (!poolAPRs) return '0';\n\n  return totalAprLabel(poolAPRs, boostFor(pool));\n}\n\nfunction lockedUntil(lockEndDate?: number) {\n  return lockEndDate ? format(lockEndDate, PRETTY_DATE_FORMAT) : 'â€”';\n}\n\nfunction iconAddresses(pool: Pool) {\n  return poolMetadata(pool.id)?.hasIcon\n    ? [pool.address]\n    : orderedTokenAddresses(pool);\n}\nfunction addLiquidity(id: string) {\n  router.push({\n    name: 'add-liquidity',\n    params: {\n      id,\n      networkSlug,\n    },\n  });\n}\nfunction removeLiquidity(id: string) {\n  router.push({\n    name: 'withdraw',\n    params: {\n      id,\n      networkSlug,\n    },\n  });\n}\nfunction goToPoolPage(id: string) {\n  router.push({\n    name: 'pool',\n    params: {\n      id,\n      networkSlug,\n    },\n  });\n}\n</script>\n\n<template>\n  <BalCard\n    shadow=\"lg\"\n    :square=\"upToLargeBreakpoint\"\n    :noBorder=\"upToLargeBreakpoint\"\n    noPad\n    exposeOverflow\n  >\n    <BalTable\n      :columns=\"visibleColumns\"\n      :data=\"data\"\n      :noResultsLabel=\"noPoolsLabel\"\n      :isLoading=\"isLoading\"\n      :isLoadingMore=\"isLoadingMore\"\n      :skeletonClass=\"skeletonClass\"\n      sticky=\"both\"\n      :square=\"upToLargeBreakpoint\"\n      :onRowClick=\"handleRowClick\"\n      :isPaginated=\"isPaginated\"\n      isOnlyDescSort\n      :initialState=\"{\n        sortColumn: sortColumn,\n        sortDirection: 'desc',\n      }\"\n      @on-column-sort=\"emit('onColumnSort', $event)\"\n      @load-more=\"emit('loadMore')\"\n    >\n      <template #iconColumnHeader>\n        <div class=\"flex items-center\">\n          <img\n            v-if=\"darkMode\"\n            :src=\"TokensWhite\"\n            alt=\"token\"\n            loading=\"lazy\"\n            width=\"24\"\n            height=\"15\"\n          />\n          <img\n            v-else\n            :src=\"TokensBlack\"\n            alt=\"token\"\n            loading=\"lazy\"\n            width=\"24\"\n            height=\"15\"\n          />\n        </div>\n      </template>\n      <template #iconColumnCell=\"pool\">\n        <div v-if=\"!isLoading\" class=\"py-4 px-6\" :data-testid=\"pool?.id\">\n          <BalAssetSet :addresses=\"iconAddresses(pool)\" :width=\"100\" />\n        </div>\n      </template>\n      <template #poolNameCell=\"pool\">\n        <div v-if=\"!isLoading\" class=\"flex items-center py-4 px-6\">\n          <div v-if=\"poolMetadata(pool.id)?.name\" class=\"pr-2 text-left\">\n            {{ poolMetadata(pool.id)?.name }}\n          </div>\n          <div v-else>\n            <TokenPills\n              :tokens=\"orderedPoolTokens(pool, pool.tokens)\"\n              :isStablePool=\"isStableLike(pool.poolType)\"\n              :selectedTokens=\"selectedTokens\"\n              :pickedTokens=\"selectedTokens\"\n            />\n          </div>\n          <PoolsTableExtraInfo :pool=\"pool\" />\n        </div>\n      </template>\n      <template #volumeCell=\"pool\">\n        <div\n          :key=\"columnStates.volume\"\n          class=\"flex justify-end py-4 px-6 -mt-1 font-numeric\"\n        >\n          <BalLoadingBlock v-if=\"!pool?.volumeSnapshot\" class=\"w-12 h-4\" />\n          <span v-else class=\"text-right\">\n            {{\n              fNum(\n                pool?.volumeSnapshot < VOLUME_THRESHOLD\n                  ? pool?.volumeSnapshot\n                  : '-',\n                {\n                  style: 'currency',\n                  maximumFractionDigits: 0,\n                }\n              )\n            }}\n          </span>\n        </div>\n      </template>\n      <template #aprCell=\"pool\">\n        <div\n          :key=\"columnStates.aprs\"\n          :class=\"[\n            'flex justify-end py-4 px-6 -mt-1 font-numeric text-right',\n            {\n              'text-gray-300 dark:text-gray-600 line-through': isLBP(\n                pool.poolType\n              ),\n            },\n          ]\"\n        >\n          <BalLoadingBlock v-if=\"!pool?.apr\" class=\"w-12 h-4\" />\n          <span v-else-if=\"shouldHideAprs(pool.id)\">-</span>\n          <template v-else>\n            {{ aprLabelFor(pool) }}\n            <BalTooltip\n              v-if=\"isLBP(pool.poolType)\"\n              width=\"36\"\n              :text=\"$t('lbpAprTooltip')\"\n              iconSize=\"sm\"\n              iconClass=\"ml-1\"\n            />\n            <APRTooltip v-else-if=\"pool?.apr\" :pool=\"pool\" />\n          </template>\n        </div>\n      </template>\n      <template #migrateCell=\"pool\">\n        <div class=\"flex justify-center py-4 px-2\">\n          <BalBtn\n            v-if=\"isMigratablePool(pool)\"\n            color=\"gradient\"\n            size=\"sm\"\n            @click.prevent=\"navigateToPoolMigration(pool)\"\n          >\n            {{ $t('migrate') }}\n          </BalBtn>\n        </div>\n      </template>\n      <template #lockEndDateCell=\"pool\">\n        <div class=\"py-4 px-6 text-right\">\n          {{ lockedUntil(pool.lockedEndDate) }}\n        </div>\n      </template>\n      <template #actionsCell=\"pool\">\n        <PoolsTableActionSelector\n          v-if=\"defaultPoolActions\"\n          :defaultPoolActions=\"defaultPoolActions\"\n          :pool=\"pool\"\n          :showPokeAction=\"Boolean(shouldPokePoolsMap?.[pool.address]) || false\"\n          :showMigrateGaugeAction=\"\n            hasNonPrefGaugesPoolsAddresses?.includes(pool.address) || false\n          \"\n          @click:add=\"addLiquidity(pool.id)\"\n          @click:remove=\"removeLiquidity(pool.id)\"\n          @click:unstake=\"pool => emit('triggerUnstake', pool)\"\n          @click:stake=\"pool => emit('triggerStake', pool)\"\n          @click:vote=\"emit('triggerVote')\"\n          @click:migrate-gauge=\"goToPoolPage(pool.id)\"\n          @click:poke=\"pool => emit('triggerCheckpoint', pool)\"\n        />\n        <PoolsTableActionsCell\n          v-else\n          :pool=\"pool\"\n          :poolsType=\"poolsType\"\n          @click:stake=\"pool => emit('triggerStake', pool)\"\n          @click:unstake=\"pool => emit('triggerUnstake', pool)\"\n          @click:migrate=\"pool => navigateToPoolMigration(pool)\"\n        />\n      </template>\n    </BalTable>\n  </BalCard>\n</template>\n","<script setup lang=\"ts\">\nimport useNetwork from '@/composables/useNetwork';\nimport { lsGet, lsSet } from '@/lib/utils';\n// import { useUserIsDepositedInAffectedPool } from '@/pages/recovery-exit/useUserIsDepositedInAffectedPool';\nimport LS_KEYS from '@/constants/local-storage.keys';\n\n/**\n * STATE\n */\nconst dismissed = ref<boolean>(\n  lsGet(LS_KEYS.Alerts.RecoveryExitDismissed, false)\n);\n\n/**\n * COMPOSABLES\n */\nconst { networkSlug } = useNetwork();\n\n//TODO\n// const { isUserDepositedInAffectedPool } = useUserIsDepositedInAffectedPool();\nconst isUserDepositedInAffectedPool = false;\n\nfunction handleClose() {\n  lsSet(LS_KEYS.Alerts.RecoveryExitDismissed, true);\n  dismissed.value = true;\n}\n</script>\n\n<template>\n  <div v-if=\"isUserDepositedInAffectedPool && !dismissed\" class=\"px-4 xl:px-0\">\n    <BalAlert\n      type=\"error\"\n      title=\"Pool Vulnerability - August 22, 2023\"\n      actionLabel=\"Withdraw now\"\n      class=\"mb-4\"\n      block\n      dismissable\n      @close=\"handleClose\"\n      @action-click=\"\n        $router.push({ name: 'recovery-exit', params: { networkSlug } })\n      \"\n      >A vulnerability has been discovered that affects a pool you are deposited\n      in. Please withdraw your funds as soon as possible.</BalAlert\n    >\n  </div>\n</template>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","isMigratablePool","usePoolHelpers","toRef","props","networkSlug","useNetwork","stakablePoolIds","computed","POOLS","showVeBalLock","isVeBalPool","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","PoolAction","isAffectedBy","usePoolWarning","shouldDisableJoins","useDisabledJoinPool","isSelectorOpened","ref","handleClickOutside","getActionIcon","action","isActionDisabled","isDeprecated","deprecatedDetails","PoolWarning","isJoinsDisabled","_a","actionsToDisable","isVeBalSupported","menuItems","items","showActionCall","clickOutsideTarget","onClickOutside","fNum","useNumbers","router","useRouter","t","useI18n","trackGoal","Goals","useFathom","darkMode","useDarkMode","upToLargeBreakpoint","upToSmallBreakpoint","useBreakpoints","wideCompositionWidth","columns","pool","bnum","boostFor","balanceValue","apr","volume","VOLUME_THRESHOLD","absMaxApr","APR_THRESHOLD","visibleColumns","column","handleRowClick","inNewTab","route","navigateToPoolMigration","configService","bpt","fiatValueOf","aprLabelFor","poolAPRs","totalAprLabel","lockedUntil","lockEndDate","format","PRETTY_DATE_FORMAT","iconAddresses","poolMetadata","orderedTokenAddresses","addLiquidity","id","removeLiquidity","goToPoolPage","isUserDepositedInAffectedPool","dismissed","lsGet","LS_KEYS","handleClose","lsSet"],"mappings":"y1DAESA,GAAA,CAAA,MAAA,UAAA,uCADP,SAAAC,GAAAC,EAAAC,EAAA,CACE,OAAAC,EAAA,EAAAC,EAAA,MAAAL,GAAA,oSC6BJ,CAAA,iBAAAM,CAAA,EAAAC,GAAAC,GAAAC,EAAA,MAAA,CAAA,EACA,CAAA,YAAAC,GAAAC,IAGAC,EAAAC,EAAwB,IAAAC,EAAA,SAAA,iBAAA,OAAAA,EAAA,SAAA,SAAA,CACyC,EAEjEC,EAAAF,EAAA,IAAAG,GAAAP,EAAA,KAAA,EAAA,CAAA,2xDCtCeQ,GAAA,2BCAAC,GAAA,oCCAAC,GAAA,4BCAAC,GAAA,8BCAAC,GAAA,6BCAAC,GAAA,+BCAAC,GAAA,4BC0BH,IAAAC,GAAAA,IACVA,EAAA,IAAM,MACNA,EAAA,OAAS,SACTA,EAAA,MAAQ,QACRA,EAAA,QAAU,UACVA,EAAA,KAAO,OACPA,EAAA,aAAe,eACfA,EAAA,KAAO,OAPGA,IAAAA,GAAA,CAAA,CAAA,mkBCQZ,CAAA,aAAAC,CAAA,EAAAC,GAAAb,EAAA,IAAAJ,EAAA,KAAA,EAAA,CAAA,EACA,CAAA,mBAAAkB,CAAA,EAAAC,GAAAnB,EAAA,IAAA,EAEAoB,EAAAC,EAAA,EAAA,EAEA,SAAAC,GAAA,CACEF,EAAA,MAAA,EAAyB,CAE3B,SAAAG,EAAAC,EAAA,CACE,OAAA,IAAA,IAAA,OAAA,OAAA,CAAA,gDAAAhB,GAAA,yDAAAC,GAAA,iDAAAC,GAAA,mDAAAC,GAAA,kDAAAC,GAAA,oDAAAC,GAAA,iDAAAC,EAAA,CAAA,EAAA,yCAAAU,OAAA,EAAA,KAAA,QAAA,EAAA,IAGE,CAGJ,SAAAC,EAAAD,EAAA,OACE,MAAAE,EAAA,QAAAC,GAAA3B,EAAA,KAAA,EAAA,CAAA,GAAAgB,EAAAY,GAAA,0BAAA,GAAAC,GAAA7B,EAAA,KAAA,EAAA,GAAAkB,EAAA,SAAAY,EAAAzB,EAAA,kBAAA,YAAAyB,EAAA9B,EAAA,KAAA,WAOA+B,EAAA,CAAyBhB,EAAA,IACZA,EAAA,MACAA,EAAA,YACA,EAEb,OAAAW,GAAAK,EAAA,SAAAP,CAAA,GAAAA,GAAA,SAAA,CAAAQ,GAAA,KAE0C,CAI5C,MAAAC,EAAA7B,EAAA,IAAA,CACE,MAAA8B,EAAA,CAAA,GAAAlC,EAAA,kBAAA,EACA,OAAAA,EAAA,uBACEkC,EAAA,QAAAnB,EAAA,YAAA,EAAqCf,EAAA,gBAErCkC,EAAA,QAAAnB,EAAA,IAAA,EAGFmB,CAAO,CAAA,EAGTC,EAAA/B,EAAA,IACE6B,EAAA,MAAA,KAAuBT,GAAAA,IAAA,gBAAAA,IAAA,MAC6B,CACpD,EAGFY,EAAAf,EAAA,IAAA,EAEA,OAAAgB,GAAAD,EAAAd,CAAA,08DCUA,CAAA,KAAAgB,GAAAC,KACAC,EAAAC,KACA,CAAA,EAAAC,GAAAC,KACA,CAAA,UAAAC,EAAA,MAAAC,CAAA,EAAAC,GAAA,EACA,CAAA,SAAAC,GAAAC,KACA,CAAA,oBAAAC,EAAA,oBAAAC,CAAA,EAAAC,GAAA,EACA,CAAA,YAAAlD,GAAAC,IAEAkD,EAAAhD,EAAA,IACE8C,EAAA,MAA+B,IAC/B,GAAO,EAMTG,EAAAjD,EAAA,IAAA,CAAyD,CACvD,KAAA,QACQ,GAAA,QACF,SAAA,MACM,OAAA,mBACF,KAAA,iBACF,MAAA,IACC,OAAA,EACC,EACV,CACA,KAAAsC,EAAA,aAAA,EACuB,GAAA,WACjB,SAAA,KACM,KAAA,eACJ,MAAA1C,EAAA,cAAA,QAAA,EAAAoD,EAAA,MAAA,GACgE,EACxE,CACA,KAAAV,EAAA,SAAA,EACmB,SAAAY,GAAA,GAAAC,GAAAC,EAAAF,CAAA,CAAA,EAAA,QAAA,CAAA,KACkC,MAAA,QAC5C,GAAA,UACH,OAAA,CAAAtD,EAAA,UACW,QAAAsD,GAAA,OAAAE,EAAAF,CAAA,CAAA,EACuB,MAAA,IAC/B,cAAA,cACQ,EACjB,CACA,KAAAZ,EAAA,WAAA,EACqB,SAAAY,GAAAhB,EAAAmB,EAAAH,CAAA,EAAA,CAEQ,MAAA,WAChB,sBAAA,EACgB,YAAA,EACV,CAAA,EACd,MAAA,QACI,GAAA,YACH,OAAA,CAAAtD,EAAA,eACW,QAAAsD,GAAA,OAAAG,EAAAH,CAAA,CAAA,EAC2B,MAAA,IACnC,cAAA,cACQ,EACjB,CACA,KAAAZ,EAAA,WAAA,EACqB,SAAAY,GAAAhB,EAAAgB,EAAA,gBAAA,EAAA,CAEc,MAAA,WACtB,sBAAA,CACgB,CAAA,EACxB,MAAA,QACI,GAAA,iBACH,QAAAA,GAAA,CAEF,MAAAI,EAAA,OAAAJ,EAAA,cAAA,EACA,OAAAI,IAAA,KAAA,MAAAA,CAAA,EAAoC,EACpCA,CAAO,EACT,MAAA,IACO,cAAA,cACQ,EACjB,CACA,KAAAhB,EAAA,YAAA,CAAAA,EAAA,YAAA,CAAA,CAAA,EACwC,SAAAY,IAAAA,GAAA,YAAAA,EAAA,iBAAA,IACI,MAAA,QACnC,GAAA,SACH,KAAA,aACE,QAAAA,GAAA,CAEJ,MAAAK,EAAA,OAAAL,GAAA,YAAAA,EAAA,cAAA,EACA,OAAAK,IAAA,KAAA,MAAAA,CAAA,GAAAA,EAAAC,EACE,EACFD,CAAO,EACT,MAAA,IACO,cAAA,cACQ,EACjB,CACA,KAAA3D,EAAA,eAAA0C,EAAA,OAAA,EAAAA,EAAA,KAAA,EACmD,KAAA,UAC3C,SAAAY,UAAA,QAAAxB,EAAAwB,GAAA,YAAAA,EAAA,MAAA,YAAAxB,EAAA,IAAA,aAAA,KACyC,MAAA,QACxC,GAAA,MACH,QAAAwB,GAAA,OAEF,IAAAI,EAAA,EAEA,OAAAJ,GAAA,MAAAA,EAAA,MACEI,EAAA,OAAAG,GAAAP,EAAA,IAAAA,EAAA,KAAA,CAAA,GAGF,SAAAI,CAAA,MAAA5B,EAAAwB,EAAA,MAAA,YAAAxB,EAAA,WAAA,GAAAgC,GAAAJ,EAAA,CAEI,EACN,MAAA,GACO,EACT,CACA,KAAAhB,EAAA,YAAA,EACsB,KAAA,kBACd,SAAA,gBACI,MAAA,QACH,GAAA,cACH,MAAA,GACG,EACT,CACA,KAAAA,EAAA,SAAA,EACmB,KAAA,cACX,SAAA,UACI,MAAA,SACH,GAAA,UACH,MAAA,GACG,EACT,CACA,KAAAA,EAAA,SAAA,EACmB,KAAA,cACX,SAAA,UACI,MAAA,QACH,GAAA,UACH,OAAA,CAAA1C,EAAA,YACW,MAAA,GACR,CACT,CAAA,EAGF+D,EAAA3D,EAAuB,IAAAiD,EAAA,MAAA,OAAAW,GAAA,CAAAhE,EAAA,cAAA,SAAAgE,EAAA,EAAA,CAAA,CACkD,EAMzE,SAAAC,EAAAX,EAAAY,EAAA,CACEtB,EAAAC,EAAA,kBAAA,EACA,MAAAsB,EAAA3B,EAAA,QAAA,CAA6B,KAAA,OACrB,OAAA,CAAA,GAAAc,EAAA,GAAA,YAAArD,CAAA,CAC6B,CAAA,EAErCiE,EAAA,OAAA,KAAAC,EAAA,IAAA,EAAA3B,EAAA,KAAA2B,CAAA,CAAsD,CAGxD,SAAAC,EAAAd,EAAA,OACEd,EAAA,KAAA,CAAY,KAAA,eACJ,OAAA,CACE,KAAAc,EAAA,GACK,IAAAxB,EAAAuC,GAAA,QAAA,MAAA,aAAA,YAAAvC,EAAAwB,EAAA,IAAA,QAC2C,EACxD,MAAA,CAAA,YAAA,MAAA,CAC6B,CAAA,CAC9B,CAGH,SAAAG,EAAAH,EAAA,OACE,MAAAgB,IAAAxC,EAAA9B,GAAA,YAAAA,EAAA,SAAA,YAAA8B,EAAAwB,EAAA,MAAA,IACA,OAAAiB,GAAAjB,EAAAgB,CAAA,CAA4B,CAG9B,SAAAd,EAAAF,EAAA,OACE,OAAAA,EAAA,SAAAxB,EAAA9B,GAAA,YAAAA,EAAA,SAAA,YAAA8B,EAAAwB,EAAA,MAAA,GAAiD,CAGnD,SAAAkB,GAAAlB,EAAA,CACE,MAAAmB,EAAAnB,GAAA,YAAAA,EAAA,IACA,OAAAmB,EAEAC,GAAAD,EAAAjB,EAAAF,CAAA,CAAA,EAFe,GAE8B,CAG/C,SAAAqB,GAAAC,EAAA,CACE,OAAAA,EAAAC,GAAAD,EAAAE,EAAA,EAAA,GAA+D,CAGjE,SAAAC,GAAAzB,EAAA,OACE,OAAAxB,EAAAkD,EAAA1B,EAAA,EAAA,IAAA,MAAAxB,EAAA,QAAA,CAAAwB,EAAA,OAAA,EAAA2B,GAAA3B,CAAA,CAE8B,CAEhC,SAAA4B,GAAAC,EAAA,CACE3C,EAAA,KAAA,CAAY,KAAA,gBACJ,OAAA,CACE,GAAA2C,EACN,YAAAlF,CACA,CACF,CAAA,CACD,CAEH,SAAAmF,GAAAD,EAAA,CACE3C,EAAA,KAAA,CAAY,KAAA,WACJ,OAAA,CACE,GAAA2C,EACN,YAAAlF,CACA,CACF,CAAA,CACD,CAEH,SAAAoF,GAAAF,EAAA,CACE3C,EAAA,KAAA,CAAY,KAAA,OACJ,OAAA,CACE,GAAA2C,EACN,YAAAlF,CACA,CACF,CAAA,CACD,+iHClSHqF,GAAA,2DAXA,MAAAC,EAAAlE,EAAkBmE,GAAAC,EAAA,OAAA,sBAAA,EAAA,CACiC,EAMnD,CAAA,YAAAxF,GAAAC,IAMA,SAAAwF,GAAA,CACEC,GAAAF,EAAA,OAAA,sBAAA,EAAA,EACAF,EAAA,MAAA,EAAkB"}