{"version":3,"file":"Avatar.vue_vue_type_script_setup_true_lang-5ab9890e.js","sources":["../../src/composables/useUrls.ts","../../src/components/images/Avatar.vue"],"sourcesContent":["import { configService } from '@/services/config/config.service';\n\nfunction resolve(uri: string): string {\n  if (!uri) return '';\n  return uri\n    .replace('ipfs://', `https://${configService.env.IPFS_NODE}/ipfs/`)\n    .replace('ipns://', `https://${configService.env.IPFS_NODE}/ipns/`);\n}\n\nexport default function useUrls() {\n  return { resolve };\n}\n","<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watch } from 'vue';\n\nimport useUrls from '@/composables/useUrls';\n\n/**\n * TYPES\n */\ntype Props = {\n  address: string;\n  iconURI?: string;\n  size?: number;\n};\n\n/**\n * PROPS & EMITS\n */\nconst props = withDefaults(defineProps<Props>(), {\n  iconURI: '',\n  size: 24,\n});\n\n/**\n * COMPOSABLES\n */\nconst { resolve } = useUrls();\n\n/**\n * STATE\n */\nconst error = ref(false);\nconst isMounted = ref(false);\n\n/**\n * COMPUTED\n */\nconst iconSRC = computed(() => resolve(props.iconURI));\n\n/**\n * WATCHERS\n */\nwatch(iconSRC, newURL => {\n  if (newURL !== '') error.value = false;\n});\n\n/**\n * LIFECYCLE\n */\nonMounted(() => (isMounted.value = true));\n</script>\n\n<template>\n  <img\n    v-if=\"iconSRC && !error\"\n    :src=\"iconSRC\"\n    :style=\"{\n      width: `${size}px`,\n      height: `${size}px`,\n      background: 'white',\n    }\"\n    class=\"inline-block leading-none rounded-full shadow-sm\"\n    @error=\"error = true\"\n  />\n  <div\n    v-else\n    class=\"overflow-hidden leading-none rounded-full\"\n    :style=\"{\n      width: `${size}px`,\n      height: `${size}px`,\n    }\"\n  >\n    <Jazzicon v-if=\"isMounted\" :address=\"address\" :diameter=\"size\" />\n  </div>\n</template>\n"],"names":["resolve","uri","configService","useUrls","error","ref","isMounted","iconSRC","computed","props","watch","newURL","onMounted"],"mappings":"6KAEA,SAASA,EAAQC,EAAqB,CACpC,OAAKA,EACEA,EACJ,QAAQ,UAAW,WAAWC,EAAc,IAAI,iBAAiB,EACjE,QAAQ,UAAW,WAAWA,EAAc,IAAI,iBAAiB,EAHnD,EAInB,CAEA,SAAwBC,GAAU,CAChC,MAAO,CAAE,QAAAH,CAAQ,CACnB,mHCcA,CAAA,QAAAA,GAAAG,IAKAC,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,EAAA,EAKAE,EAAAC,EAAA,IAAAR,EAAAS,EAAA,OAAA,CAAA,EAKA,OAAAC,EAAAH,EAAAI,GAAA,CACEA,IAAA,KAAmBP,EAAA,MAAA,GAAc,CAAA,EAMnCQ,EAAA,IAAAN,EAAA,MAAA,EAAA"}