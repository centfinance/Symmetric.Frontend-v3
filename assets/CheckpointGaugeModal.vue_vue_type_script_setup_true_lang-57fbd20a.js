import{_ as B}from"./balancer-sdk-d0995fe4.js";import{aq as C,aw as k}from"./BalBtn-cca6788c.js";import{_ as A}from"./BalActionSteps.vue_vue_type_script_setup_true_lang-f37eca6e.js";import{a as T,b as x}from"./useTransactions-114fc9d7.js";import{a as L}from"./user-pools.provider-b709d200.js";import{d as N,r as V,b as l,c as u,l as p,q as g,j as $,z as d,A as G,v as S,i as j}from"./runtime-core.esm-bundler-558f8953.js";const E={class:"flex flex-col justify-between"},M=g("span",{class:"mb-12"}," Even though you've synced new veBAL to this Layer 2, it isnâ€™t contributing to your staking boost yet on this pool. This is because, pool gauges don't detect veBAL changes until you interact with them. This transaction is the most gas efficient way to update the gauge but you can also trigger the update by claiming any BAL incentives. ",-1),W=N({__name:"CheckpointGaugeModal",props:{isVisible:{type:Boolean,default:!1},poolAddress:{}},emits:["close","success"],setup(m,{emit:a}){const i=m,{checkpointGauge:f,userGaugeShares:h}=L(),{addTransaction:y}=T(),{isMismatchedNetwork:_}=C(),{txListener:b}=x(),r=V(!1);async function w(){var o;try{const e=(o=h.value)==null?void 0:o.find(n=>n.gauge.poolAddress===i.poolAddress),s=e==null?void 0:e.gauge.id;if(!s)throw new Error("No gauge id");const t=await f(s);return y({id:t.hash,type:"tx",action:"userGaugeCheckpoint",summary:""}),await b(t,{onTxConfirmed:async()=>{a("success",i.poolAddress)},onTxFailed:()=>{console.error("Tx failed")}}),t}catch(e){return console.error(e),Promise.reject(e)}}const v=[{label:"Confirm pool gauge update",loadingLabel:"Confirming pool gauge update",confirmingLabel:"Confirming pool gauge update",action:async()=>w(),stepTooltip:""}];return(o,e)=>{const s=A,t=k,n=B;return l(),u(n,{show:o.isVisible,disabled:d(_),title:"Trigger pool gauge veBAL update",onClose:e[2]||(e[2]=c=>a("close"))},{default:p(()=>[g("div",E,[M,$(s,{actions:v,primaryActionType:"userGaugeCheckpoint",onSuccess:e[0]||(e[0]=c=>r.value=!0)}),d(r)?(l(),u(t,{key:0,color:"gray",outline:"",block:"",onClick:e[1]||(e[1]=c=>o.$emit("close"))},{default:p(()=>[G(S(o.$t("close")),1)]),_:1})):j("",!0)])]),_:1},8,["show","disabled"])}}});export{W as _};
//# sourceMappingURL=CheckpointGaugeModal.vue_vue_type_script_setup_true_lang-57fbd20a.js.map
