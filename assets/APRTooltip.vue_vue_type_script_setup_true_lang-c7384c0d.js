import{_ as G}from"./BalTooltip.vue_vue_type_style_index_0_lang-8bf6235c.js";import{aS as O,av as D,aU as y,au as H,ao as J}from"./BalBtn-cca6788c.js";import{_ as K}from"./useDisabledJoinPool-118f9751.js";import{J as F,K as Y,f as U,L as Z,M as Q,r as W,I as X}from"./usePoolHelpers-eb955974.js";import{Z as L,o as j,ab as ee}from"./connector-16147cef.js";import{d as T,u as t,b as l,p as k,q as o,h as M,A as b,v as r,x as C,z as p,F as q,k as te,i as S,E as se,G as ae,c as R,l as g,j as V,ar as oe,m as E}from"./runtime-core.esm-bundler-558f8953.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";const ne=m=>(se("data-v-98c5950b"),m=m(),ae(),m),le=ne(()=>o("div",{class:"horiz-bar"},null,-1)),ie={class:"grow"},de=T({__name:"BalBreakdown",props:{items:{},title:{default:"Title"},hideItems:{type:Boolean,default:!1},size:{default:"md"},offsetClassOverrides:{default:""},initVertBarClassOverrides:{default:""}},setup(m){const a=m,v=t(()=>{if(a.initVertBarClassOverrides!=null)return a.initVertBarClassOverrides;switch(a.size){case"lg":return"h-8 -mt-8";default:return"h-4 -mt-4"}}),n=t(()=>{switch(a.size){case"lg":return"h-16 -mt-16";default:return"h-8 -mt-8"}}),i=t(()=>{switch(a.size){case"lg":return"mt-4";default:return"mt-0"}}),d=t(()=>{if(a.offsetClassOverrides)return a.offsetClassOverrides;switch(a.size){case"lg":return"mt-3 ml-px";default:return"mt-2 ml-px"}});return(c,f)=>(l(),k("div",null,[o("div",null,[M(c.$slots,"default",{},()=>[b(r(c.title),1)],!0)]),c.hideItems?S("",!0):(l(),k("div",{key:0,class:C(["flex flex-col",p(d)])},[(l(!0),k(q,null,te(c.items,(s,u)=>(l(),k("div",{key:u,class:C(["flex items-center",{[p(i)]:u!==0}])},[u===0?(l(),k("div",{key:0,class:C(["init-vert-bar",p(v)])},null,2)):(l(),k("div",{key:1,class:C(["vert-bar",p(n)])},null,2)),le,o("div",ie,[M(c.$slots,"item",{item:s},void 0,!0)])],2))),128))],2))]))}});const N=re(de,[["__scopeId","data-v-98c5950b"]]),ce={"data-testid":"staking-apr"},pe={key:0},ue={class:"flex items-center"},me={class:"ml-1 text-secondarytext-xs"},ve={class:"flex items-center"},_e={class:"ml-1 text-xs text-secondary"},fe={class:"ml-1 text-xs capitalize text-secondary"},ke=T({__name:"StakingBreakdown",props:{pool:{},poolApr:{}},setup(m){const a=m,{fNum:v}=O(),{getToken:n}=D(),i=t(()=>{var e;return((e=a.pool)==null?void 0:e.apr)||a.poolApr}),d=t(()=>{var e;return((e=a.pool)==null?void 0:e.boost)||""}),c=t(()=>!!d.value),f=t(()=>{var e;return(e=i.value)==null?void 0:e.stakingApr}),s=t(()=>{var e,x;return((e=f.value)==null?void 0:e.min)===((x=f.value)==null?void 0:x.max)}),u=t(()=>{var e;return((e=f.value)==null?void 0:e.min)||0}),_=t(()=>{var e;return((e=f.value)==null?void 0:e.max)||0}),h=t(()=>{var e;return((e=i.value)==null?void 0:e.rewardAprs.total)||0}),A=t(()=>L(h.value).gt(0)),w=t(()=>{if(i.value&&F(i.value)){const e=L(u.value).times(d.value).plus(h.value).toString();return v(e,y.bp)}return v(h.value,y.bp)}),B=t(()=>v(L(u.value).plus(h.value).toString(),y.bp)),I=t(()=>{var x;const e=[];if(s.value||e.push(["Min BAL",u.value],["Max BAL",_.value]),A.value){s.value&&u.value>0&&e.push(["BAL",u.value]);const $=(x=i.value)==null?void 0:x.rewardAprs.breakdown;$?Object.keys($).forEach(P=>{var z;$[P]!==0&&e.push([((z=n(P))==null?void 0:z.symbol)||"Rewards",$[P]])}):e.push(["Rewards",h.value])}return e});return(e,x)=>{const $=N;return l(),k("div",ce,[c.value?(l(),k("div",pe,[o("div",ue,[b(r(w.value)+" ",1),o("span",me,r(e.$t("staking.stakingApr")),1)])])):(l(),k(q,{key:1},[p(F)(i.value)||p(Y)(i.value)?(l(),R($,{key:0,items:I.value},{item:g(({item:[P,z]})=>[b(r(p(v)(z,p(y).bp))+" ",1),o("span",fe,r(P)+" "+r(e.$t("apr")),1)]),default:g(()=>[o("div",ve,[b(r(B.value)+" ",1),o("span",_e,r(s.value?e.$t("staking.stakingApr"):e.$t("staking.minimumStakingApr")),1)])]),_:1},8,["items"])):S("",!0)],64))])}}}),he={"data-testid":"vebal-apr"},Ae={class:"ml-1 text-xs text-secondary"},ye={class:"text-xs text-secondary"},be=T({__name:"VeBalBreakdown",props:{apr:{}},setup(m){const a=m,{fNum:v}=O(),{t:n}=H(),i=t(()=>v(a.apr,y.bp)),d=t(()=>[n("tooltips.veBalApr.breakdown1"),n("tooltips.veBalApr.breakdown2")]);return(c,f)=>{const s=N;return l(),k("div",he,[V(s,{items:d.value},{item:g(({item:u})=>[o("div",ye,r(u),1)]),default:g(()=>[b(r(i.value)+" ",1),o("span",Ae,r(c.$t("tooltips.veBalApr.title")),1)]),_:1},8,["items"])])}}}),ge={"data-testid":"yield-apr"},we={class:"flex items-center"},Be={class:"ml-1 text-xs text-secondary"},xe={class:"ml-1 text-xs text-secondary"},$e=T({__name:"YieldBreakdown",props:{yieldAPR:{},pool:{}},setup(m){const a=m,{getToken:v,getTokens:n}=D(),{fNum:i}=O(),{t:d}=H(),c=t(()=>n(Object.keys(a.yieldAPR.breakdown))),f=t(()=>Object.keys(c.value).length>1),s=t(()=>{const _=Object.keys(a.yieldAPR.breakdown);if(U(a.pool))return d("yieldAprRewards.apr.boosted");if(_.length>1)return d("yieldAprRewards.apr.token");if(_.length===1){if(Z(_[0]))return d("yieldAprRewards.apr.boosted");if(Q(_[0]))return d("yieldAprRewards.apr.veBAL");const h=j(_[0]),A=v(h);return A?`${A.symbol} ${d("apr")}`:d("yieldAprRewards.apr.token")}return""}),u=t(()=>Object.entries(a.yieldAPR.breakdown));return(_,h)=>{const A=N;return l(),k("div",ge,[V(A,{items:u.value,hideItems:!f.value},oe({default:g(()=>[o("div",we,[b(r(p(i)(_.yieldAPR.total,p(y).bp))+" ",1),o("span",Be,r(s.value),1)])]),_:2},[f.value?{name:"item",fn:g(({item:[w,B]})=>[b(r(p(i)(B,p(y).bp))+" ",1),o("span",xe,r(c.value[p(j)(w)].symbol)+" "+r(_.$t("apr")),1)]),key:"0"}:void 0]),1032,["items","hideItems"])])}}}),Re={class:"ml-1"},Pe={class:"text-sm divide-y dark:divide-gray-900"},Se={class:"px-3 pt-3 pb-1 bg-gray-50 dark:bg-gray-800 rounded-t","data-testid":"total-apr"},Te={class:"text-secondary"},Ie={class:"text-lg font-bold normal-nums tracking-tighter"},ze={class:"p-3 text-left"},Ce={class:"flex items-center mb-1 whitespace-nowrap","data-testid":"swap-fee-apr"},Le={class:"ml-1 text-xs text-secondary"},De=T({__name:"APRTooltip",props:{pool:{},poolApr:{}},setup(m){const a=m,{fNum:v}=O(),n=t(()=>{var s;return((s=a.pool)==null?void 0:s.apr)||a.poolApr}),i=t(()=>{var s;return Number(((s=n.value)==null?void 0:s.swapFees)||0)<=ee}),d=t(()=>{var s;return L(((s=n.value)==null?void 0:s.tokenAprs.total)||"0").gt(0)}),c=t(()=>W(a.pool.id)),f=t(()=>n.value?X(n.value,a.pool.boost):"0");return(s,u)=>{const _=K,h=J,A=G;return i.value?(l(),R(A,{key:0,width:"auto",noPad:""},{activator:g(()=>[o("div",Re,[d.value||p(Y)(n.value)||c.value?(l(),R(_,E({key:0,gradFrom:c.value?"purple":"yellow",class:"-mr-1 h-4"},s.$attrs),null,16,["gradFrom"])):(l(),R(h,E({key:1,name:"info",size:"sm",class:"text-gray-400 dark:text-gray-500"},s.$attrs),null,16))])]),default:g(()=>{var w,B,I,e;return[o("div",Pe,[o("div",Se,[o("div",Te,r(s.$t("totalAPR")),1),o("div",Ie,r(f.value),1)]),o("div",ze,[o("div",Ce,[b(r(p(v)(((w=n.value)==null?void 0:w.swapFees)||"0",p(y).bp))+" ",1),o("span",Le,r(s.$t("swapFeeAPR")),1)]),c.value?(l(),R(be,{key:0,apr:((B=n.value)==null?void 0:B.protocolApr)||0},null,8,["apr"])):S("",!0),(I=n.value)!=null&&I.tokenAprs&&d.value?(l(),R($e,{key:1,yieldAPR:(e=n.value)==null?void 0:e.tokenAprs,pool:s.pool},null,8,["yieldAPR","pool"])):S("",!0),V(ke,{pool:s.pool,poolApr:n.value},null,8,["pool","poolApr"])])])]}),_:1})):S("",!0)}}});export{De as _};
//# sourceMappingURL=APRTooltip.vue_vue_type_script_setup_true_lang-c7384c0d.js.map
