import{L as i,u as A}from"./useDarkMode-6a81be08.js";import{a6 as R,a7 as T,a8 as D,S as g,N as S,a9 as C,l as v,R as b,u as M}from"./connector-16147cef.js";import{i as $,t as G}from"./useTransactions-114fc9d7.js";import{r as s,ap as L}from"./runtime-core.esm-bundler-558f8953.js";import{S as I}from"./index-1de0572e.js";import{aq as O}from"./BalBtn-cca6788c.js";import{i as U}from"./usePoolHelpers-eb955974.js";import{m as q}from"./meta.service-1c1722a9.js";import{v as W}from"./voting.provider-3f46e556.js";const y=s(!1);function re(e){return e=J(e),e=K(e),e=j(e),e=B(e),e=H(e),e}function P(e){y.value=!0,document.body.style.display="none",window.location.href=e,location.reload()}function J(e){return e.beforeEach((a,l,o)=>{var t;const n=R(window.location.host,((t=a.redirectedFrom)==null?void 0:t.fullPath)??a.fullPath,a.params);n?window.location.href=n:o()}),e}function K(e){return e.beforeEach((a,l,o)=>{var n,t,u,p,d,m;if(y.value)o();else{const h=((n=a.params.networkSlug)==null?void 0:n.toString())??"";if(T(h))D(h,()=>o(),()=>{P(`/#${a.fullPath}`)});else{const w=["/","/terms-of-use","/privacy-policy","/cookies-policy","/risks"],k=["not-found","trade-redirect"];if((t=a.redirectedFrom)!=null&&t.fullPath&&((u=a.redirectedFrom)!=null&&u.fullPath.includes("/pool"))){const r=((p=a.redirectedFrom)==null?void 0:p.fullPath)??a.fullPath;e.push({path:`/${g[S.TELOSTESTNET].slug}${r}`})}else if(!a.redirectedFrom||k.includes((d=a.redirectedFrom)==null?void 0:d.name)||w.includes(a.fullPath))o();else{const r=((m=a.redirectedFrom)==null?void 0:m.fullPath)??a.fullPath,F=r.includes("/pool")?g[S.TELOSTESTNET].slug:C;e.push({path:`/${F}${r}`})}}}}),e}function j(e){return e.beforeEach((a,l,o)=>{var n;a.name==="add-liquidity"&&U((n=a.params)==null?void 0:n.id)?o({name:"pool",params:a.params}):o()}),e}function B(e){return e.beforeEach((a,l,o)=>{if(a.name==="pool"){o();return}q.setMeta(a),o()}),e}function H(e){return e.beforeEach((a,l,o)=>{a.name==="vebal-voting"&&Object.keys(W.value).length===0?o({name:"vebal",params:{networkSlug:"ethereum"}}):o()}),e}const f=s(!1),N=s(v(i.App.Locale,"en-US")),V=100,E=s(v(i.App.SwapDeadline,V));function Y(){f.value=!f.value}function _(e){N.value=e,b(i.App.Locale,e),$.global.locale.value=e}function z(e){E.value=e,b(i.App.SwapDeadline,e)}function ie(){return{modalOpen:f,locale:N,transactionDeadline:E,toggleModal:Y,setLocale:_,setTransactionDeadline:z}}const c=s(!1);async function Q(){if(window.self===window.top)return!1;try{return await G(new I().safe.getInfo(),1e3),!0}catch{return!1}}function ce(){const{connectWallet:e,chainId:a}=O(),{darkMode:l,toggleDarkMode:o}=A(),{networkId:n,getNetworkSlug:t}=M();return L(async()=>{c.value=await Q(),c.value&&(await e("safe"),a.value!==n.value&&P(`/#/${t(a.value)}`),l&&o())}),{isGnosisSafeApp:c}}export{re as a,ie as b,P as h,ce as u};
//# sourceMappingURL=useGnosisSafeApp-bf4524fc.js.map
