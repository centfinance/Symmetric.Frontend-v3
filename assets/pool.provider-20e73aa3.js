import{av as v,aZ as m,a_ as y,aW as P,aX as h,au as b}from"./BalBtn-cca6788c.js";import{P as D}from"./api-e32fdf3d.js";import{T as A}from"./connector-16147cef.js";import{u as s,aj as p,ak as Q,C as E}from"./runtime-core.esm-bundler-558f8953.js";import{u as I}from"./usePoolQuery-7e1952e9.js";import{i as R}from"./useQueryHelpers-8fe10019.js";import{A as _,a as k,u as q}from"./useAlerts-0e7ff1f0.js";function w(o,r={}){const{tokens:l}=v(),n=s(()=>{var t;return(t=o.value)==null?void 0:t.id}),e=p(m.Pool.Decorated(n)),a=s(()=>!!o.value),c=async()=>{if(!o.value)return;const t=A.cloneDeep(o.value),i=new D([t]),[f]=await i.decorate(l.value,!1);return f},u=p({enabled:a,...r});return y(e,c,u)}function K(o){const{addAlert:r,removeAlert:l}=q(),{t:n}=b(),e=I(o),a=s(()=>e.data.value),{data:c,refetch:u}=w(a),t=s(()=>R(e)||!a.value),i=s(()=>c.value||a.value);return E(e.error,()=>{e.error.value?r({id:"pool-fetch-error",label:n("alerts.pool-fetch-error"),type:_.ERROR,persistent:!0,action:e.refetch,actionLabel:n("alerts.retry-label"),priority:k.MEDIUM}):l("pool-fetch-error")}),{pool:i,isLoadingPool:t,refetchOnchainPoolData:u}}const d=Symbol(h.Providers.Pool);function M(o){const r=K(o);return Q(d,r),r}function U(){return P(d)}export{M as p,U as u};
//# sourceMappingURL=pool.provider-20e73aa3.js.map
